<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>⭐️YOUNG ALBUM⭐️</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/hammerjs@2.0.8/hammer.min.js"></script>
    <style>
        .carousel-container {
            overflow: hidden;
            position: relative;
            height: 100vh;
            width: 100vw;
        }
        .carousel-arrow {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            width: 40px;
            height: 40px;
            background-color: rgba(0, 0, 0, 0.7);
            color: white;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 10;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        .carousel-arrow:hover {
            background-color: rgba(0, 0, 0, 0.9);
        }
        .carousel-arrow.left {
            left: 15px;
        }
        .carousel-arrow.right {
            right: 15px;
        }
        .carousel {
            display: flex;
            transition: transform 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            height: 100%;
        }
        .carousel-item {
            min-width: 100%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        .carousel-item img {
            width: 100%;
            height: 100%;
            object-fit: contain;
        }
        .indicator-container {
            position: absolute;
            bottom: 20px;
            width: 100%;
            display: flex;
            justify-content: center;
            gap: 8px;
        }
        .indicator {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background-color: rgba(255, 255, 255, 0.5);
            transition: all 0.3s ease;
        }
        .indicator.active {
            background-color: white;
            width: 16px;
            border-radius: 4px;
        }
        .order-button {
            position: absolute;
            bottom: 60px;
            left: 50%;
            transform: translateX(-50%) translateY(100px);
            background-color: #8a2be2;
            color: white;
            padding: 12px 24px;
            border: none;
            border-radius: 25px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            z-index: 10;
            animation: pulse 2s infinite, slideUp 0.5s forwards 0.3s;
            box-shadow: 0 0 15px rgba(138, 43, 226, 0.7);
        }
        @keyframes pulse {
            0% { transform: translateX(-50%) scale(1); }
            50% { transform: translateX(-50%) scale(1.05); }
            100% { transform: translateX(-50%) scale(1); }
        }
        @keyframes slideUp {
            to { transform: translateX(-50%) translateY(0); }
        }
    </style>
</head>
<body class="bg-black">
    <div class="carousel-container" id="carouselContainer">
        <button class="order-button" onclick="window.open('https://t.me/werahere', '_blank')">Заказать</button>
        <div class="carousel-arrow left" id="prevArrow">←</div>
        <div class="carousel-arrow right" id="nextArrow">→</div>
        <div class="carousel" id="carousel">
            <!-- Images will be loaded dynamically -->
        </div>
        <div class="indicator-container" id="indicators">
            <!-- Indicators will be loaded dynamically -->
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Get all images from the directory (assuming they're named sequentially)
            const imageCount = 13; // Updated to 13 images
            const carousel = document.getElementById('carousel');
            const indicatorsContainer = document.getElementById('indicators');
            let currentIndex = 0;
            
            // Create carousel items and indicators
            for (let i = 0; i < imageCount; i++) {
                // Create image element
                const imgDiv = document.createElement('div');
                imgDiv.className = 'carousel-item';
                const img = document.createElement('img');
                img.src = `image${i+1}.jpg`; // Assuming images are named image1.jpg, image2.jpg, etc.
                img.alt = `Image ${i+1}`;
                imgDiv.appendChild(img);
                carousel.appendChild(imgDiv);
                
                // Create indicator
                const indicator = document.createElement('div');
                indicator.className = 'indicator';
                indicator.dataset.index = i;
                indicator.addEventListener('click', () => goToSlide(i));
                indicatorsContainer.appendChild(indicator);
            }
            
            // Set first indicator as active
            updateIndicators();
            
            // Initialize Hammer.js for swipe gestures with adjusted sensitivity
            const hammer = new Hammer(document.getElementById('carouselContainer'), {
                recognizers: [
                    [Hammer.Pan, { direction: Hammer.DIRECTION_HORIZONTAL, threshold: 0 }],
                    [Hammer.Swipe, { direction: Hammer.DIRECTION_HORIZONTAL, threshold: 100, velocity: 0.1 }]
                ]
            });
            
            let panDelta = 0;
            hammer.on('panstart pancancel panend', (e) => {
                if (e.type === 'panstart') {
                    panDelta = 0;
                    carousel.style.transition = 'none';
                } else if (e.type === 'panend') {
                    carousel.style.transition = 'transform 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94)';
                    if (Math.abs(panDelta) > 30) { // Reduced threshold for swipe detection
                        if (panDelta > 0) {
                            prevSlide();
                        } else {
                            nextSlide();
                        }
                    } else {
                        updateCarousel(); // Return to current slide if swipe was too small
                    }
                }
            });
            
            hammer.on('pan', (e) => {
                panDelta = e.deltaX;
                const percentage = 100 / imageCount * (panDelta / window.innerWidth);
                carousel.style.transform = `translateX(calc(-${currentIndex * 100}% + ${percentage}%))`;
            });
            
            // Disable swipe events to prevent double triggers
            hammer.on('swipeleft swipeleft', () => {});
            
            // Touch events for mobile
            let touchStartX = 0;
            let touchEndX = 0;
            let isSwiping = false;
            
            document.getElementById('carouselContainer').addEventListener('touchstart', (e) => {
                touchStartX = e.changedTouches[0].screenX;
                carousel.style.transition = 'none';
                isSwiping = true;
            }, false);
            
            document.getElementById('carouselContainer').addEventListener('touchmove', (e) => {
                if (!isSwiping) return;
                touchMoveX = e.changedTouches[0].screenX;
                const diff = touchMoveX - touchStartX;
                const percentage = 100 / imageCount * (diff / window.innerWidth);
                carousel.style.transform = `translateX(calc(-${currentIndex * 100}% + ${percentage}%))`;
            }, false);
            
            document.getElementById('carouselContainer').addEventListener('touchend', (e) => {
                if (!isSwiping) return;
                isSwiping = false;
                touchEndX = e.changedTouches[0].screenX;
                carousel.style.transition = 'transform 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94)';
                
                const diff = touchEndX - touchStartX;
                const threshold = window.innerWidth * 0.2; // 20% of screen width
                
                if (Math.abs(diff) > threshold) {
                    handleSwipe();
                } else {
                    updateCarousel(); // Return to current slide if swipe was too small
                }
            }, false);
            
            function handleSwipe() {
                const diff = touchEndX - touchStartX;
                const threshold = window.innerWidth * 0.2; // 20% of screen width
                
                if (diff < -threshold) {
                    nextSlide();
                } else if (diff > threshold) {
                    prevSlide();
                }
            }
            
            function nextSlide() {
                if (currentIndex < imageCount - 1) {
                    currentIndex++;
                    updateCarousel();
                }
            }
            
            function prevSlide() {
                if (currentIndex > 0) {
                    currentIndex--;
                    updateCarousel();
                }
            }
            
            function goToSlide(index) {
                currentIndex = index;
                updateCarousel();
            }
            
            function updateCarousel() {
                carousel.style.transform = `translateX(-${currentIndex * 100}%)`;
                updateIndicators();
            }

            // Add arrow click handlers
            document.getElementById('prevArrow').addEventListener('click', prevSlide);
            document.getElementById('nextArrow').addEventListener('click', nextSlide);
            
            function updateIndicators() {
                const indicators = document.querySelectorAll('.indicator');
                indicators.forEach((indicator, index) => {
                    if (index === currentIndex) {
                        indicator.classList.add('active');
                    } else {
                        indicator.classList.remove('active');
                    }
                });
            }
        });
    </script>
</body>
</html>
